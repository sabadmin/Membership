<!-- templates/superadmin_data_view.html -->
{% extends "base.html" %}

{% block title %}View Data - {{ table_name | capitalize }}{% endblock %}

{% block content %}
    <h1 class="text-4xl font-bold mb-6">Data for Table: {{ table_name | capitalize }}</h1>
    <p class="text-lg mb-8">Manage records in the <span class="font-semibold">{{ table_name | capitalize }}</span> table.</p>

    <a href="{{ url_for('main.superadmin_data_add', table_name=table_name) }}"
       class="inline-block bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-300 ease-in-out shadow-md hover:shadow-lg mb-6">
        Add New Record
    </a>

    {% if data %}
        <div class="overflow-x-auto mb-8">
            <table class="min-w-full bg-white bg-opacity-10 rounded-lg overflow-hidden shadow-lg text-sm">
                <thead>
                    <tr class="bg-gray-800 text-gray-200 uppercase text-xs leading-normal">
                        {% for col in columns %}
                            <th class="py-3 px-4 text-left">{{ col | capitalize }}</th>
                        {% endfor %}
                        <th class="py-3 px-4 text-center">Actions</th>
                    </tr>
                </thead>
                <tbody class="text-gray-100 text-sm font-light">
                    {% for row in data %}
                    <tr class="border-b border-gray-700 hover:bg-gray-700">
                        {% for col in columns %}
                            <td class="py-3 px-4 text-left whitespace-nowrap">{{ row[col] }}</td>
                        {% endfor %}
                        <td class="py-3 px-4 text-center whitespace-nowrap">
                            {% if pk_column_name %}
                                <a href="{{ url_for('main.superadmin_data_edit', table_name=table_name, id=row[pk_column_name]) }}"
                                   class="bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold py-1 px-3 rounded-full mr-2">Edit</a>
                                <a href="{{ url_for('main.superadmin_data_delete', table_name=table_name, id=row[pk_column_name]) }}"
                                   class="bg-red-600 hover:bg-red-700 text-white text-xs font-bold py-1 px-3 rounded-full"
                                   onclick="return confirm('Are you sure you want to delete this record (ID: {{ row[pk_column_name] }})?');">Delete</a>
                            {% else %}
                                <span class="text-gray-400">No PK for actions</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p class="text-md text-gray-300">No data found in this table.</p>
    {% endif %}

    <a href="{{ url_for('main.superadmin_data_management') }}" class="block w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-300 ease-in-out shadow-md hover:shadow-lg mt-8">
        Back to Table List
    </a>
{% endblock %}
